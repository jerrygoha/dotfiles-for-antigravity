# /write-plan ì™„ë²½ ìƒì„¸ ê°€ì´ë“œ

> ë³µìž¡í•œ ê¸°ëŠ¥ êµ¬í˜„ ì „, ì²´ê³„ì ì¸ ê³„íšì„ ìˆ˜ë¦½í•˜ëŠ” ì›Œí¬í”Œë¡œìš°

---

## ðŸ“Œ ê°œìš” ë° ëª©ì 

`/write-plan`ì€ ì½”ë“œ ìž‘ì„± ì „ì— **ë¬´ì—‡ì„**, **ì–´ë–»ê²Œ**, **ì–´ë–¤ ìˆœì„œë¡œ** êµ¬í˜„í• ì§€ ê³„íšì„ ì„¸ìš°ëŠ” ì›Œí¬í”Œë¡œìš°ìž…ë‹ˆë‹¤.

**ì™œ í•„ìš”í•œê°€ìš”?**
- ë³µìž¡í•œ ê¸°ëŠ¥ì„ ìž‘ì€ ë‹¨ê³„ë¡œ ë¶„í• 
- ë¦¬ìŠ¤í¬ë¥¼ ì‚¬ì „ì— íŒŒì•…í•˜ê³  ëŒ€ë¹„
- íŒ€ì›ê³¼ ê³µìœ  ê°€ëŠ¥í•œ ë¬¸ì„œí™”
- êµ¬í˜„ ì¤‘ ë°©í–¥ì„ ìžƒì§€ ì•ŠìŒ
- ì˜ˆìƒ ì‹œê°„ ì‚°ì • ë° ì¼ì • ê´€ë¦¬

---

## ðŸŽ¯ ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?

### âœ… ì´ëŸ´ ë•Œ ì‚¬ìš©í•˜ì„¸ìš”

| ìƒí™© | ì˜ˆì‹œ |
|------|------|
| ìƒˆë¡œìš´ ê¸°ëŠ¥ ê°œë°œ | "ì‚¬ìš©ìž ì¸ì¦ ì‹œìŠ¤í…œ ì¶”ê°€í•´ì¤˜" |
| ì—¬ëŸ¬ íŒŒì¼ ìˆ˜ì • ì˜ˆìƒ | "ê²°ì œ ì‹œìŠ¤í…œ í†µí•©í•˜ê³  ì‹¶ì–´" |
| 2ì‹œê°„ ì´ìƒ ì†Œìš” ì˜ˆìƒ | "ê´€ë¦¬ìž ëŒ€ì‹œë³´ë“œ ë§Œë“¤ì–´ì¤˜" |
| ìš”êµ¬ì‚¬í•­ì´ ë³µìž¡í•¨ | "ì‹¤ì‹œê°„ ì±„íŒ… ê¸°ëŠ¥ êµ¬í˜„" |
| íŒ€ í˜‘ì—… í•„ìš” | "API êµ¬ì¡° ë³€ê²½í•´ì•¼ í•´" |
| ë¦¬ìŠ¤í¬ê°€ ìžˆëŠ” ìž‘ì—… | "ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜" |

### ðŸ“‹ êµ¬ì²´ì ì¸ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

**ì‹œë‚˜ë¦¬ì˜¤ 1: ìƒˆ ê¸°ëŠ¥ ê°œë°œ**
```
"ì†Œì…œ ë¡œê·¸ì¸(Google, GitHub) ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê³  ì‹¶ì–´"

â†’ /write-plan ì‚¬ìš©
â†’ ê³„íšì„œ ìž‘ì„±: ìŠ¤í‚¤ë§ˆ, OAuth ì„¤ì •, ì½œë°± ì²˜ë¦¬, UI ë“±
â†’ ì‚¬ìš©ìž ìŠ¹ì¸ í›„ /execute-planìœ¼ë¡œ ë‹¨ê³„ë³„ ì‹¤í–‰
```

**ì‹œë‚˜ë¦¬ì˜¤ 2: ëŒ€ê·œëª¨ ë¦¬íŒ©í† ë§**
```
"ëª¨ë…¸ë¦¬ì‹ ì½”ë“œë¥¼ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¡œ ë¶„ë¦¬í•˜ê³  ì‹¶ì–´"

â†’ /write-plan ì‚¬ìš©
â†’ ê° ì„œë¹„ìŠ¤ ê²½ê³„ ì •ì˜, ì˜ì¡´ì„± ë¶„ì„, ë§ˆì´ê·¸ë ˆì´ì…˜ ìˆœì„œ
â†’ Phaseë³„ ë¡¤ë°± ê³„íš í¬í•¨
```

---

## ðŸ“¤ ê¸°ëŒ€ ê²°ê³¼ë¬¼

### ìƒì„±ë˜ëŠ” íŒŒì¼

**ìœ„ì¹˜**: `.agent/plans/YYYY-MM-DD-[feature-name].md`

### ê³„íšì„œ êµ¬ì¡°

```markdown
# [ê¸°ëŠ¥ëª…]

## Problem Statement
[í•´ê²°í•˜ë ¤ëŠ” ë¬¸ì œëŠ” ë¬´ì—‡ì¸ê°€?]

## Goals
- [ ] Primary: ì£¼ìš” ëª©í‘œ
- [ ] Secondary: ë¶€ì°¨ì  ëª©í‘œ

## Non-Goals (ë²”ìœ„ ì™¸)
- [ëª…ì‹œì ìœ¼ë¡œ ì´ë²ˆì— í•˜ì§€ ì•Šì„ ê²ƒ]

## Technical Approach

### Architecture
[ê³ ìˆ˜ì¤€ ì„¤ê³„ ë‹¤ì´ì–´ê·¸ëž¨ ë˜ëŠ” ì„¤ëª…]

### Components Affected
| Component | Change Type | Description |
|-----------|-------------|-------------|
| íŒŒì¼/ëª¨ë“ˆ | New/Modify/Delete | ë³€ê²½ ë‚´ìš© |

## Implementation Steps

### Phase 1: [ì´ë¦„] (~Xh)
- [ ] Step 1.1: [êµ¬ì²´ì  ìž‘ì—…]
- [ ] Step 1.2: [êµ¬ì²´ì  ìž‘ì—…]

### Phase 2: [ì´ë¦„] (~Xh)
- [ ] Step 2.1: [êµ¬ì²´ì  ìž‘ì—…]

## Risk Assessment

| Risk | Probability (1-5) | Impact (1-5) | Score | Mitigation |
|------|-------------------|--------------|-------|------------|
| [ìœ„í—˜ìš”ì†Œ] | P | I | PÃ—I | [ëŒ€ì‘ë°©ì•ˆ] |

> Score >= 15: ëª…ì‹œì  ìŠ¹ì¸ í•„ìš”
> Score 10-14: ì™„í™” ê³„íš ë¬¸ì„œí™”
> Score < 10: ìˆ˜ìš© í›„ ì§„í–‰

## Testing Strategy
- Unit: [ë¬´ì—‡ì„ í…ŒìŠ¤íŠ¸?]
- Integration: [ë¬´ì—‡ì„ í…ŒìŠ¤íŠ¸?]
- Manual: [ë¬´ì—‡ì„ í™•ì¸?]

## Rollback Plan
[ë¬¸ì œ ë°œìƒ ì‹œ ë˜ëŒë¦¬ëŠ” ë°©ë²•]

## Timeline
- Phase 1: Xh
- Phase 2: Xh
- **Total**: Xh
```

---

## ðŸ“– ìƒì„¸ ì‚¬ìš©ë²•

### Step 1: ì›Œí¬í”Œë¡œìš° í˜¸ì¶œ

```
/write-plan ì‚¬ìš©ìž ì¸ì¦ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê³  ì‹¶ì–´.
ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸, Google OAuth, ë¹„ë°€ë²ˆí˜¸ ìž¬ì„¤ì • í•„ìš”í•´.
```

### Step 2: ìš”êµ¬ì‚¬í•­ ì •ë¦¬

ì—ì´ì „íŠ¸ê°€ ì§ˆë¬¸í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤:
- "JWT vs ì„¸ì…˜ ì¤‘ ì–´ë–¤ ë°©ì‹ì„ ì„ í˜¸í•˜ì‹œë‚˜ìš”?"
- "ë¹„ë°€ë²ˆí˜¸ ìž¬ì„¤ì •ì€ ì´ë©”ì¼ë¡œë§Œ í•˜ë‚˜ìš”?"

**ðŸ’¡ Tip**: ìµœëŒ€í•œ êµ¬ì²´ì ìœ¼ë¡œ ë‹µë³€í•˜ì„¸ìš”.

### Step 3: ê³„íšì„œ ê²€í† 

ìƒì„±ëœ ê³„íšì„œë¥¼ ê¼¼ê¼¼ížˆ í™•ì¸:
- [ ] Goalsê°€ ë‚´ ì˜ë„ì™€ ì¼ì¹˜í•˜ëŠ”ê°€?
- [ ] Non-Goalsì— ì œì™¸ëœ ê²ƒì´ ë§žëŠ”ê°€?
- [ ] ê° Phaseì˜ ìˆœì„œê°€ ë…¼ë¦¬ì ì¸ê°€?
- [ ] ì˜ˆìƒ ì‹œê°„ì´ í˜„ì‹¤ì ì¸ê°€?
- [ ] Risk Assessmentê°€ ì¶©ë¶„í•œê°€?

### Step 4: ìˆ˜ì • ìš”ì²­ ë˜ëŠ” ìŠ¹ì¸

**ìˆ˜ì •ì´ í•„ìš”í•œ ê²½ìš°:**
```
"Phase 2ë¥¼ ë¨¼ì € ì§„í–‰í•˜ê³  ì‹¶ì–´"
"Google OAuth ëŒ€ì‹  Apple ë¡œê·¸ì¸ìœ¼ë¡œ ë³€ê²½í•´ì¤˜"
"ì˜ˆìƒ ì‹œê°„ì´ ë„ˆë¬´ ì§§ì€ ê²ƒ ê°™ì•„, ë²„í¼ ì¶”ê°€í•´ì¤˜"
```

**ìŠ¹ì¸:**
```
"ì¢‹ì•„, ì´ ê³„íšëŒ€ë¡œ ì§„í–‰í•´ì¤˜"
```

### Step 5: ì‹¤í–‰ìœ¼ë¡œ ì´ë™

ìŠ¹ì¸ í›„:
```
/execute-plan
```

---

## âš ï¸ ì´ëŸ° ìƒí™©ì—” ë‹¤ë¥¸ ì›Œí¬í”Œë¡œìš°ë¥¼!

| ìƒí™© | ëŒ€ì‹  ì‚¬ìš©í•  ì›Œí¬í”Œë¡œìš° |
|------|----------------------|
| ê°„ë‹¨í•œ ë²„ê·¸ ìˆ˜ì • (30ë¶„ ë¯¸ë§Œ) | ë°”ë¡œ ìˆ˜ì • ë˜ëŠ” `/debug` |
| ì•„ì´ë””ì–´ íƒìƒ‰ ë‹¨ê³„ | `/brainstorm` |
| ì´ë¯¸ ê³„íšì´ ìžˆê³  ì‹¤í–‰ë§Œ | `/execute-plan` |
| ì½”ë“œ ë¦¬ë·°ê°€ í•„ìš”í•¨ | `/code-review` |
| ê¸°ìˆ  ì¡°ì‚¬ê°€ í•„ìš”í•¨ | `/research` |

### í˜¼ë™í•˜ê¸° ì‰¬ìš´ ìƒí™©

**Q: `/write-plan` vs `/brainstorm`?**
- `/brainstorm`: "ì—¬ëŸ¬ ë°©ë²• ì¤‘ ë­ê°€ ì¢‹ì„ì§€ ëª¨ë¥´ê² ì–´" â†’ ì•„ì´ë””ì–´ íƒìƒ‰
- `/write-plan`: "ì´ë ‡ê²Œ í•˜ê¸°ë¡œ í–ˆëŠ”ë° ê³„íš ì„¸ì›Œì¤˜" â†’ ì‹¤í–‰ ê³„íš

**Q: ê³„íš ì—†ì´ ë°”ë¡œ `/tdd`ë¡œ ì‹œìž‘í•´ë„ ë˜ë‚˜ìš”?**
- ë‹¨ì¼ í•¨ìˆ˜/ìœ í‹¸ë¦¬í‹° â†’ OK
- ë³µìž¡í•œ ê¸°ëŠ¥ â†’ `/write-plan` ë¨¼ì € ê¶Œìž¥

---

## ðŸ”— í•¨ê»˜ ì‚¬ìš©í•˜ë©´ ì¢‹ì€ ì›Œí¬í”Œë¡œìš°

### ê¶Œìž¥ íë¦„ 1: í‘œì¤€ ê¸°ëŠ¥ ê°œë°œ

```
/research (í•„ìš”ì‹œ)     # ê¸°ìˆ  ì¡°ì‚¬
    â†“
/write-plan           # ê³„íš ìˆ˜ë¦½
    â†“
/execute-plan         # ë‹¨ê³„ë³„ ì‹¤í–‰
    â†“
/tdd ë˜ëŠ” /testing    # í…ŒìŠ¤íŠ¸ ìž‘ì„±
    â†“
/code-review          # í’ˆì§ˆ ê²€í† 
    â†“
/create-pr            # PR ìƒì„±
```

### ê¶Œìž¥ íë¦„ 2: ë¦¬íŒ©í† ë§

```
/write-plan           # ë¦¬íŒ©í† ë§ ê³„íš
    â†“
/execute-plan         # Phase 1
    â†“
/handoff (ì„¸ì…˜ ê¸¸ì–´ì§€ë©´)
    â†“
/pickup               # ìƒˆ ì„¸ì…˜ì—ì„œ ê³„ì†
    â†“
/refactor-clean       # ë°ë“œ ì½”ë“œ ì •ë¦¬
```

### ê¶Œìž¥ íë¦„ 3: ìž¥ê¸° í”„ë¡œì íŠ¸

```
/write-plan           # ì „ì²´ ê³„íš
    â†“
Phase 1 ì™„ë£Œ
    â†“
/handoff              # ì¤‘ê°„ ì €ìž¥
    â†“
(ë‹¤ìŒ ì„¸ì…˜)
    â†“
/pickup               # ë³µì›
    â†“
Phase 2 ì§„í–‰
```

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸ ë° ë² ìŠ¤íŠ¸ í”„ëž™í‹°ìŠ¤

### ê³„íšì„œ ìž‘ì„± ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] ìš”êµ¬ì‚¬í•­ì´ ëª…í™•í•œê°€?
- [ ] ê¸°ìˆ ì  ì œì•½ì‚¬í•­ì„ íŒŒì•…í–ˆëŠ”ê°€?
- [ ] ê¸°ì¡´ ì½”ë“œë² ì´ìŠ¤ë¥¼ ì´í•´í–ˆëŠ”ê°€?
- [ ] ì˜ì¡´í•˜ëŠ” ì™¸ë¶€ ì„œë¹„ìŠ¤ê°€ ìžˆëŠ”ê°€?

### ì¢‹ì€ ê³„íšì„œì˜ íŠ¹ì§•

1. **ìž‘ì€ ë‹¨ê³„**: ê° Stepì€ 30ë¶„~2ì‹œê°„ ì´ë‚´
2. **ê²€ì¦ ê°€ëŠ¥**: ê° Phase ì™„ë£Œ ì‹œ í™•ì¸ ê°€ëŠ¥í•œ ê¸°ì¤€
3. **ì˜ì¡´ì„± ëª…ì‹œ**: ìˆœì„œê°€ ì¤‘ìš”í•œ ì´ìœ  ì„¤ëª…
4. **ë¦¬ìŠ¤í¬ ì •ëŸ‰í™”**: ì¶”ìƒì  X, PÃ—I ì ìˆ˜ë¡œ í‰ê°€
5. **ë¡¤ë°± ê³„íš**: ë¬¸ì œ ì‹œ ë˜ëŒë¦¬ëŠ” ë°©ë²• ëª…ì‹œ

### í”í•œ ì‹¤ìˆ˜

| ì‹¤ìˆ˜ | ê°œì„  ë°©ë²• |
|------|----------|
| ë„ˆë¬´ í° Phase | 2ì‹œê°„ ë‹¨ìœ„ë¡œ ë¶„í•  |
| ë¦¬ìŠ¤í¬ ë¬´ì‹œ | ìµœì†Œ 3ê°œ ë¦¬ìŠ¤í¬ ì‹ë³„ |
| í…ŒìŠ¤íŠ¸ ê³„íš ëˆ„ë½ | Testing Strategy í•„ìˆ˜ í¬í•¨ |
| Non-Goals ë¯¸ìž‘ì„± | ë²”ìœ„ ì™¸ ëª…ì‹œë¡œ ìŠ¤ì½”í”„ í†µì œ |

---

## ðŸ“š ì‹¤ì „ ì˜ˆì‹œ

### ì˜ˆì‹œ: ê²°ì œ ì‹œìŠ¤í…œ í†µí•©

```
/write-plan ìŠ¤íŠ¸ë¼ì´í”„ ê²°ì œ ì‹œìŠ¤í…œì„ í†µí•©í•˜ê³  ì‹¶ì–´.
êµ¬ë… ê²°ì œ, ì¼íšŒì„± ê²°ì œ, í™˜ë¶ˆ ì²˜ë¦¬ê°€ í•„ìš”í•´.
```

**ìƒì„±ëœ ê³„íšì„œ (ìš”ì•½):**

```markdown
# Stripe Payment Integration

## Goals
- [ ] êµ¬ë… ê²°ì œ (ì›”ê°„/ì—°ê°„)
- [ ] ì¼íšŒì„± ê²°ì œ
- [ ] í™˜ë¶ˆ ì²˜ë¦¬ (ê´€ë¦¬ìž)

## Non-Goals
- ë‹¤ì¤‘ í†µí™” ì§€ì› (v2ì—ì„œ)
- Apple Pay/Google Pay (v2ì—ì„œ)

## Implementation Steps

### Phase 1: Infrastructure (~2h)
- [ ] Stripe SDK ì„¤ì¹˜ ë° í™˜ê²½ë³€ìˆ˜ ì„¤ì •
- [ ] API í‚¤ ê´€ë¦¬ (í™˜ê²½ë³„)
- [ ] ì›¹í›… ì—”ë“œí¬ì¸íŠ¸ ìƒì„±

### Phase 2: Subscription Flow (~4h)
- [ ] ê°€ê²© ëª¨ë¸ ì •ì˜ (Stripe Dashboard)
- [ ] êµ¬ë… ìƒì„± API
- [ ] êµ¬ë… ì·¨ì†Œ API
- [ ] ê²°ì œ ì‹¤íŒ¨ ì²˜ë¦¬

### Phase 3: One-time Payment (~2h)
- [ ] ê²°ì œ ì¸í…íŠ¸ ìƒì„±
- [ ] ê²°ì œ ì™„ë£Œ í™•ì¸

### Phase 4: Refunds (~2h)
- [ ] í™˜ë¶ˆ API
- [ ] í™˜ë¶ˆ ë‚´ì—­ ì¡°íšŒ

## Risk Assessment
| Risk | P | I | Score | Mitigation |
|------|---|---|-------|------------|
| ì›¹í›… ëˆ„ë½ | 3 | 5 | 15 | ìž¬ì‹œë„ ë¡œì§, ë¡œê¹… |
| ì´ì¤‘ ê²°ì œ | 2 | 5 | 10 | ë©±ë“±ì„± í‚¤ ì‚¬ìš© |

## Timeline
- Total: 10-12h
```

---

## ðŸ’¡ í”„ë¡œ íŒ

1. **ë²”ìœ„ í†µì œ**: Non-Goalsë¥¼ ëª…í™•ížˆ í•´ì„œ "ì´ê²ƒë„ í•´ì£¼ì„¸ìš”"ë¥¼ ë°©ì§€
2. **ë²„í¼ ì¶”ê°€**: ì˜ˆìƒ ì‹œê°„ì˜ 20-30% ë²„í¼ ê¶Œìž¥
3. **ë§ˆì¼ìŠ¤í†¤ ì„¤ì •**: Phase ì™„ë£Œë§ˆë‹¤ /handoffë¡œ ì €ìž¥
4. **ë¦¬ìŠ¤í¬ ìš°ì„ **: ë†’ì€ ë¦¬ìŠ¤í¬ í•­ëª©ì€ ë¨¼ì € í•´ê²°
5. **ë¬¸ì„œ ê³µìœ **: íŒ€ì›ì—ê²Œ ê³„íšì„œ ê³µìœ í•˜ì—¬ í”¼ë“œë°±
